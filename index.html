<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Porno Musik</title>
    <style>
        /* CSS остается таким же, как в версии с crossfade */
        body { background-color: #f8f7fa; color: #3a3a40; font-family: 'Helvetica Neue', Arial, sans-serif; text-align: center; margin: 0; padding: 0; line-height: 1.6; position: relative; min-height: 100vh; }
        .video-background-wrapper { position: fixed; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; z-index: -2; }
        .background-video { position: absolute; top: 50%; left: 50%; min-width: 100%; min-height: 100%; width: auto; height: auto; transform: translateX(-50%) translateY(-50%); object-fit: cover; opacity: 0; transition: opacity 1.5s ease-in-out; }
        .background-video.visible { opacity: 1; }
        .video-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(40, 38, 45, 0.65); z-index: -1; }
        /* --- Остальные стили --- */
        .container { max-width: 800px; margin: 0 auto; padding: 20px; opacity: 0; transform: translateY(20px); animation: fadeInUp 1s ease-out forwards; position: relative; z-index: 1; }
        .logo-img { width: 600px; max-width: 95%; margin: 10px auto 30px; display: block; animation: pulse 3s infinite alternate; }
        .album { margin: 50px 0; opacity: 0; transform: translateY(30px); animation: fadeInUp 0.8s ease-out forwards; }
        /* --- Обновленная нумерация анимации после удаления блока --- */
        .album:nth-child(1) { animation-delay: 0.2s; } /* Pre-Save */
        .album:nth-child(2) { animation-delay: 0.4s; } /* BIRTHDAYGIRL */
        .album:nth-child(3) { animation-delay: 0.6s; } /* Paris */
        /* --- --- */
        .album-cover { width: 200px; height: 200px; margin: 0 auto 20px; display: block; object-fit: cover; transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15); border-radius: 3px; }
        .album-cover.large { width: 300px; height: 300px; }
        .album-cover:hover { transform: scale(1.05); box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2); }
        .album-title { font-family: 'Helvetica Neue', Arial, sans-serif; font-size: 1.4rem; margin: 0 0 15px; letter-spacing: 1px; text-transform: uppercase; color: #e0e0e5; font-weight: 500; text-shadow: 0 1px 3px rgba(0,0,0,0.4); }
        .listen-button { display: inline-block; padding: 10px 24px; background-color: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.4); color: #f0f0f5; text-decoration: none; margin: 0; transition: all 0.3s ease; font-family: 'Helvetica Neue', Arial, sans-serif; letter-spacing: 1.2px; cursor: pointer; text-transform: uppercase; font-size: 0.85rem; font-weight: 600; border-radius: 3px; }
        .listen-button:hover { background-color: rgba(255, 255, 255, 0.2); border-color: rgba(255, 255, 255, 0.6); color: #fff; transform: translateY(-2px); }
        .radio-section { margin-top: 80px; font-size: 1.8rem; letter-spacing: 2px; text-transform: uppercase; color: #bbb; opacity: 0; animation: fadeIn 1s ease-out forwards; animation-delay: 1s; font-weight: 400; text-shadow: 0 1px 2px rgba(0,0,0,0.3); }
        .soon-badge { display: inline-block; margin-top: 10px; padding: 6px 18px; background-color: rgba(232, 228, 239, 0.2); color: #ddd; font-size: 0.8rem; border-radius: 20px; text-transform: uppercase; font-weight: 500; border: 1px solid rgba(232, 228, 239, 0.3); }
        .social-links { margin: 60px 0 30px; padding-top: 30px; border-top: 1px solid rgba(255, 255, 255, 0.15); opacity: 0; animation: fadeIn 1s ease-out forwards; animation-delay: 1.2s; }
        .social-links a { color: #ccc; text-decoration: none; margin: 0 15px; font-weight: 500; transition: color 0.3s; text-transform: uppercase; font-size: 0.85rem; text-shadow: 0 1px 2px rgba(0,0,0,0.2); }
        .soundcloud-link { display: inline-block; margin: 0 15px; }
        .social-links a:hover { color: #fff; }
        .admin-panel { display: none; margin-top: 30px; padding: 20px; background-color: rgba(30, 30, 35, 0.85); border: 1px solid rgba(255, 255, 255, 0.1); animation: fadeIn 0.5s ease-out; color: #eee; border-radius: 4px; position: relative; z-index: 2; }
        .admin-panel h3 { color: #fff; }
        .email-list { max-height: 200px; overflow-y: auto; text-align: left; margin-top: 15px; padding: 10px; background-color: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 3px; color: #ccc; }
        .email-item { padding: 5px 0; border-bottom: 1px solid rgba(255, 255, 255, 0.1); color: #ddd; } .email-item:last-child { border-bottom: none; }
        .admin-panel .listen-button { margin-top: 15px; }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(20, 20, 25, 0.85); justify-content: center; align-items: center; animation: fadeIn 0.3s ease-out; }
        .modal-content { background-color: #2a2a30; padding: 30px; border: 1px solid rgba(255, 255, 255, 0.1); width: 400px; max-width: 80%; text-align: center; border-radius: 4px; position: relative; transform: scale(0.9); opacity: 0; animation: modalOpen 0.3s ease-out forwards; color: #eee; box-shadow: 0 5px 25px rgba(0, 0, 0, 0.3); }
        .modal-content h2 { color: #fff; }
        .close-modal { position: absolute; top: 10px; right: 15px; font-size: 28px; cursor: pointer; transition: color 0.3s; color: #888; }
        .close-modal:hover { color: #ccc; }
        .presave-form-container input { margin-bottom: 15px; width: 90%; padding: 12px; background-color: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.2); color: #eee; border-radius: 3px; font-size: 0.95rem; }
        .presave-form-container input::placeholder { color: #888; }
        .presave-form-container button { width: 90%; padding: 12px 15px; background-color: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.4); color: #f0f0f5; cursor: pointer; transition: all 0.3s; text-transform: uppercase; font-weight: 600; letter-spacing: 1.2px; font-size: 0.9rem; border-radius: 3px; }
        .presave-form-container button:hover { background-color: rgba(255, 255, 255, 0.2); border-color: rgba(255, 255, 255, 0.6); color: #fff; }
        .success-message { display: none; margin-top: 15px; padding: 15px; color: #81C784; border: 1px solid rgba(129, 199, 132, 0.5); border-radius: 4px; background-color: rgba(76, 175, 80, 0.15); }
        .delivery-info { margin-top: 20px; font-size: 0.8rem; color: #aaa; line-height: 1.4; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes pulse { 0% { transform: scale(1); opacity: 0.85; } 50% { transform: scale(1.02); opacity: 1; } 100% { transform: scale(1); opacity: 0.85; } }
        @keyframes modalOpen { to { opacity: 1; transform: scale(1); } }
    </style>
</head>
<body>

    <div class="video-background-wrapper">
        <div class="video-overlay"></div>
        <video playsinline autoplay muted loop class="background-video" id="background-video-1">
            <source src="" type="video/mp4">
            <source src="" type="video/webm">
        </video>
        <video playsinline autoplay muted loop class="background-video" id="background-video-2">
            <source src="" type="video/mp4">
            <source src="" type="video/webm">
        </video>
    </div>

    <div class="container">
        <img src="IMG_9696.PNG" alt="Porno Musik Logo" class="logo-img">

        <div class="album">
            <img src="album3.PNG" alt="Album Cover" class="album-cover large">
            <h2 class="album-title">Album Pre-Save</h2>
            <a href="#" class="listen-button" id="presave-button">Предзаказ альбома</a>
        </div>

        <div class="album">
            <img src="./album2.png" alt="BIRTHDAYGIRL Cover" class="album-cover">
            <h2 class="album-title">BIRTHDAYGIRL</h2>
            <a href="https://on.soundcloud.com/jTqKeAzLakAPe4UL7" class="listen-button" target="_blank">LISTEN NOW</a>
        </div>

        <!-- *** БЛОК JesusBloodMJ УДАЛЕН *** -->

        <div class="album">
            <img src="album1.PNG" alt="Paris Album Cover" class="album-cover">
            <h2 class="album-title">Paris Blinked Edition</h2>
            <a href="https://soundcloud.com/rio-2025/sets/paris?utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing" class="listen-button" target="_blank">LISTEN NOW</a>
        </div>

        <div class="radio-section">
            <p>PORNO RADIO</p>
            <div class="soon-badge">SOON</div>
        </div>

        <div class="social-links">
            <a href="https://soundcloud.com/rio-2025" target="_blank" class="soundcloud-link">SOUNDCLOUD</a>
            <a href="https://t.me/+n7fO4C59zVBjZjIy" target="_blank">TELEGRAM</a>
            <a href="https://x.com/whayeuey" target="_blank">X (TWITTER)</a>
        </div>

        <div class="admin-panel" id="admin-panel">
            <h3>ADMIN PANEL</h3>
            <div class="email-list" id="email-list">
                <!-- Список email будет здесь -->
            </div>
            <button id="export-emails" class="listen-button">Экспорт Email</button>
        </div>
    </div>

    <!-- Presave Modal -->
    <div class="modal" id="presave-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-modal">×</span>
            <h2 style="margin-bottom: 20px; text-transform: uppercase; font-weight: 500; font-size: 1.4rem;">Предзаказ альбома</h2>
            <div class="presave-form-container">
                <form id="presave-form" action="https://formspree.io/f/xdkeroqa" method="POST">
                    <input type="email" name="email" placeholder="Ваш email" required id="email-input">
                    <input type="hidden" name="_subject" value="New Album Pre-Save">
                    <input type="hidden" name="_language" value="ru">
                    <input type="hidden" name="_next" value="#success">
                    <button type="submit">Отправить</button>
                </form>
                <div class="delivery-info">
                    Альбом будет доставлен в течении 3 месяцев после 18.04.2025
                </div>
            </div>
            <div class="success-message" id="success-message">
                Спасибо за предзаказ! Альбом будет доставлен в течении 3 месяцев после 18.04.2025
            </div>
        </div>
    </div>

    <!-- Admin Panel & Pre-save JavaScript (remains the same) -->
    <script>
        const presaveButton = document.getElementById('presave-button'); const presaveModal = document.getElementById('presave-modal'); const closeModal = document.getElementById('close-modal'); const presaveForm = document.getElementById('presave-form'); const successMessage = document.getElementById('success-message'); const emailInput = document.getElementById('email-input'); const emailList = document.getElementById('email-list'); const adminPanel = document.getElementById('admin-panel'); const exportButton = document.getElementById('export-emails'); let savedEmails = JSON.parse(localStorage.getItem('preSaveEmails')) || []; let adminKeyPresses = 0; updateEmailList(); document.addEventListener('keydown', (e) => { if (e.key.toLowerCase() === 'a' && e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') { adminKeyPresses++; if (adminKeyPresses >= 3) { adminPanel.style.display = adminPanel.style.display === 'block' ? 'none' : 'block'; adminKeyPresses = 0; } setTimeout(() => { if (adminKeyPresses > 0) adminKeyPresses = 0; }, 1000); } else { adminKeyPresses = 0; } }); presaveButton.addEventListener('click', function(e) { e.preventDefault(); presaveModal.style.display = 'flex'; presaveForm.style.display = 'block'; successMessage.style.display = 'none'; emailInput.value = ''; }); closeModal.addEventListener('click', function() { presaveModal.style.display = 'none'; }); window.addEventListener('click', function(e) { if (e.target === presaveModal) { presaveModal.style.display = 'none'; } }); if (window.location.hash === '#success') { const email = localStorage.getItem('lastEmail'); if (email) { if (!savedEmails.includes(email)) { savedEmails.push(email); localStorage.setItem('preSaveEmails', JSON.stringify(savedEmails)); updateEmailList(); } presaveModal.style.display = 'flex'; presaveForm.style.display = 'none'; successMessage.style.display = 'block'; setTimeout(() => { presaveModal.style.display = 'none'; presaveForm.style.display = 'block'; successMessage.style.display = 'none'; }, 4000); } history.pushState("", document.title, window.location.pathname + window.location.search); localStorage.removeItem('lastEmail'); } presaveForm.addEventListener('submit', function(e) { const email = emailInput.value.trim(); if (email) { localStorage.setItem('lastEmail', email); } }); exportButton.addEventListener('click', function() { if (savedEmails.length === 0) { alert('Нет email для экспорта.'); return; } const emailsText = savedEmails.join('\n'); const blob = new Blob([emailsText], { type: 'text/plain;charset=utf-8' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.style.display = 'none'; a.href = url; a.download = 'preorder-emails.txt'; document.body.appendChild(a); a.click(); window.URL.revokeObjectURL(url); document.body.removeChild(a); }); function updateEmailList() { emailList.innerHTML = ''; if (savedEmails.length > 0) { [...savedEmails].reverse().forEach(email => { const emailItem = document.createElement('div'); emailItem.className = 'email-item'; emailItem.textContent = email; emailList.appendChild(emailItem); }); } else { emailList.innerHTML = '<div style="color: #999;">Пока нет предзаказов</div>'; } }
    </script>

    <!-- *** UPDATED Video Switching JavaScript (Timed 8s Crossfade - 2 Videos) *** -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const player1 = document.getElementById('background-video-1');
            const player2 = document.getElementById('background-video-2');
            const sources1 = player1.getElementsByTagName('source');
            const sources2 = player2.getElementsByTagName('source');

            // --- Video Files (Only 2 now) ---
            const videoFiles = [
                { mp4: 'videos/video1.mp4', webm: 'videos/video1.webm' },
                { mp4: 'videos/video2.mp4', webm: 'videos/video2.webm' }
                // Убери или закомментируй третий объект, если он был
            ];
            // --- --- --- --- ---

            // --- Проверка на наличие хотя бы 2 видео остается актуальной ---
             if (videoFiles.length < 2) {
                 console.warn("Need at least 2 videos for crossfade effect.");
                 if (videoFiles.length === 1) { // Если осталось только 1 видео
                     setVideoSource(player1, 0);
                     player1.classList.add('visible');
                     player2.style.display = 'none'; // Скрыть второй плеер
                 }
                 return; // Остановить скрипт, если меньше 2 видео
            }


            let currentVideoIndex = 0;
            let activePlayer = player1;
            let inactivePlayer = player2;
            let intervalId = null;

            const switchInterval = 8000; // 8 seconds

            function setVideoSource(player, index) {
                const sources = player.getElementsByTagName('source');
                if (index >= 0 && index < videoFiles.length) {
                    sources[0].setAttribute('src', videoFiles[index].mp4);
                    sources[1].setAttribute('src', videoFiles[index].webm);
                    player.load();
                    player.play().catch(e => console.log(`Autoplay prevented for video ${index + 1}: ${e}`));
                } else {
                    console.error("Invalid video index in setVideoSource:", index);
                }
            }

            function switchVideo() {
                // Логика `nextVideoIndex` с `% videoFiles.length` будет
                // корректно переключать между 0 и 1 для двух видео
                let nextVideoIndex = (currentVideoIndex + 1) % videoFiles.length;

                setVideoSource(inactivePlayer, nextVideoIndex);

                setTimeout(() => {
                    activePlayer.classList.remove('visible');
                    inactivePlayer.classList.add('visible');

                    let temp = activePlayer;
                    activePlayer = inactivePlayer;
                    inactivePlayer = temp;

                    currentVideoIndex = nextVideoIndex;
                }, 150); // Delay for smoothness
            }

            // --- Initial Setup ---
            setVideoSource(player1, currentVideoIndex); // Загрузка 1-го видео
            player1.classList.add('visible');        // Показать 1-й плеер

            // Предзагрузка 2-го видео во второй плеер
            setVideoSource(player2, (currentVideoIndex + 1) % videoFiles.length);


            // --- Start the timed switching ---
            if (intervalId) clearInterval(intervalId);
            intervalId = setInterval(switchVideo, switchInterval); // Запуск таймера

        });
    </script>

</body>
</html>
